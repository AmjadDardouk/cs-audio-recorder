{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },

  "Recording": {
    "OutputDirectory": "C:\\ProgramData\\CallRecorder\\Temp",
    "PreBufferSeconds": 3,
    "PostRollSeconds": 3,
    "DiscardInitialMs": 300,
    "SampleRate": 48000,
    "BitsPerSample": 16,
    "Channels": 2
  },

  "CallDetection": {
    "PollIntervalMs": 100,
    "ConfidenceThreshold": 50,
    "MinimumCallDurationSeconds": 3,
    "StopHangoverMs": 2000,
    "StartOnAnySignal": true
  },

  "AudioDsp": {
    "EchoCancellation": true,
    "NoiseSuppression": true,
    "HighPass": true,
    "Agc": true,
    "SuppressionLevel": "High",
    "FrameMs": 15,
    "SampleRate": 48000,
    "NearGainDb": -3.0,
    "FarGainDb": -6.0,
    "Normalize": true,
    "TargetRmsDbfs": -20,
    "MaxGainDb": 6,
    "AttackMs": 30,
    "ReleaseMs": 500,
    
    "EnableLimiter": true,
    "LimiterCeilingDbfs": -1.0,
    "LimiterLookaheadMs": 3,
    
    "EchoSuppressionLevel": "VeryHigh",
    "DelayAgnostic": true,
    "ExtendedFilter": true,
    "RefinedAdaptiveFilter": true,
    "InitialDelayMs": 200,

    "DiagnosticsEnableMonoDumps": true,
    "DiagnosticsTestToneCheck": true,
    
    "EnableDithering": true,
    "DitherType": "TriangularPdf",
    "DitherAmountDb": -96,
    
    "LowPass": true,
    "LowPassHz": 9000
  },

  "CallState": {
    "CommunicationsOnly": true,
    "ProcessWhitelist": [ "teams.exe", "zoom.exe", "skype.exe", "lync.exe", "webex.exe" ],
    "ProcessBlacklist": [],
    "RingHoldMs": 2000,
    "ConnectBidirectionalWindowMs": 1500,
    "EndSilenceMs": 3000,
    "MinAverageRmsDbfs": -45.0,
    "PreferWhitelistedProcesses": true,
    "AllowGeneralRenderFallback": true
  },

  "AudioDevice": {
    "PreferCommunicationsEndpoints": true,
    "MicInclude": [ "Microphone", "Headset", "Mic" ],
    "MicExclude": [ "Line In", "Stereo Mix", "What U Hear", "Loopback", "Virtual", "Monitor", "Listen" ],
    "SpeakerInclude": [ "Speakers", "Headset", "Headphones" ],
    "SpeakerExclude": [ "Virtual", "VB-Audio", "Voicemeeter" ],
    "LogDeviceEnumeration": true,
    "MinSampleRateHz": 44100,
    "MinBitsPerSample": 16,
    "ForceRawMode": true,
    "RejectSidetone": true
  }
}
